<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" lang="fr">

<ui:composition template="WEB-INF/templates/spaceTemplate.xhtml">
	<ui:define name="titleValue">Salle</ui:define>
	<ui:define name="spaceContent">

		<!-- cet élement sera remplacé par le contenu des pages, dynamiquement -->
					<div id="carouselExampleAutoplaying" class="carousel slide sliderPlus"
						data-bs-ride="carousel">
						<div class="carousel-inner">
							<div class="carousel-item active">
								<h:graphicImage library="images" name="Img1.jpg"
									class="d-block custom-carousel-image" />
							</div>
							<div class="carousel-item">
								<h:graphicImage library="images" name="Img2.jpg"
									class="d-block custom-carousel-image" />
							</div>
							<div class="carousel-item">
								<h:graphicImage library="images" name="Img3.jpg"
									class="d-block custom-carousel-image" />
							</div>
						</div>
						<button class="carousel-control-prev" type="button"
							data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button"
							data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>


		<div id="philosophie" class="container-lg p-5 justify-space-beetwen">
			<div  class="row pt-5 contain-80">
				<h2 class="text-uppercase">NOTRE PHILOSOPHIE</h2>
				<div class="col-lg-6 col-sm-12 mt-auto mb-auto mb-5 space-welcome-text" style="white-space:pre-line;">

					#{spaceController.currentSpaceWithSubscriptions.infos.configuration.welcomeText}

				</div>
				<div class="col-lg-6 col-sm-12 ">
					<h:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.mainPicture}"
						styleClass="imgIllu" />
				</div>
			</div>
		</div>
		<div class="container p-5 justify-space-beetwen">
			<div class="row mb-5 contain-50">

				<h2 id="abonnement" class="text-uppercase">NOS ABONNEMENTS</h2>

				<p:tab title="Abonnements">
				
					<div class=" mb-5 shadow-4" style="border-radius: 50px; padding: 10px">
						<div class="d-flex w-100">
							<div class="text-900 font-bold text-5xl text-center d-flex w-100" style="margin-top: 5px">
								<div class="col-1">
									<a  onclick="PF('popupUpdate').show();" class="ui-button-raised"  
									style="background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; border-radius:border-radius: 50px;">
  										<h:graphicImage library="images" name="/svgs/solid/circle-plus.svg" styleClass="iconsNavigation"/>
									</a>
								</div>
								<div class="col-10">
									<H3>Nos abonnements exclusifs pour libérer votre potentiel !</H3>
								</div>
									
							</div >
						</div>
						
						<div class="row"	style="gap: 50px; justify-content: center;">
							<ui:repeat	value="#{subscriptionController.allActiveSubscription}"	var="subscription">
								<div class=" col-lg-4 shadow-2 flex flex-column surface-card p-1" style="border-radius: 1px margin-top:0px; border-color: black;">
									<div class="card-header w-100 p-1" style="color: white; background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; ">
										<h2>
											<b>#{subscription.subscriptionName}</b>
										</h2>
										<h3>#{subscription.price.monthlyPrice}&#x20AC; par mois</h3>
									</div>

									<div class="card-body d-flex align-items-center">
										<p>#{subscription.description}</p>
									</div>
									<div class="card-footer">
										<h:form>
											<h:commandButton
												action="#{subscriptionController.subscribe(subscription.subscriptionId)}"
												class="btn" role="button" data-bs-toggle="button" style="color: white; 
												background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; " 
												value="S'ABONNER" />
										</h:form>
									</div>
								</div>
							</ui:repeat>
						</div>

					</div>
					<div>
						<h2 class="text-uppercase text-center"></h2>
					</div>
					<p></p>

					
				</p:tab>
			</div>

			<p:dialog header="Ajouter un abonnement" widgetVar="popupUpdate"
				modal="true" height="600" resizable="false" showEffect="fade"
				hideEffect="fade" style="max-width: 1000px; min-width: 700px;">
				<h:form>
					<div>
						<div class="d-grid gap-2">

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput01"
									placeholder="Nom de l'abonnement" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.subscriptionName}" />
								<h:outputLabel class="outputLabel" for="floatingInput01">Nom de l'abonnement</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput02"
									placeholder="Description" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.description}" />
								<h:outputLabel class="outputLabel" for="floatingInput02">Description</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput03"
									placeholder="Engagement" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.engagement}" />
								<h:outputLabel class="outputLabel" for="floatingInput03">Durée d'engagement</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput04"
									placeholder="Prix Mensuel" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.price.monthlyPrice}" />
								<h:outputLabel class="outputLabel" for="floatingInput04">Prix Mensuel</h:outputLabel>
							</div>

							<h:commandButton class="btn btn-warning"
								value="Créer un abonnement"
								action="#{subscriptionController.createSubscription()}" />

							<h:link class="text-center" outcome="index.xhtml">Annuler</h:link>
						</div>
					</div>
				</h:form>
			</p:dialog>
		</div>

		<main class="w-100">
			<div
				class=" row p-4 justify-content-around align-items-stretch navBar"
				style="height: 5vh; position: fixed; top: 0px"></div>


		</main>

		<script>

    </script>
	</ui:define>
</ui:composition>
</html>