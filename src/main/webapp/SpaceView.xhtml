<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" lang="fr">

<ui:composition template="WEB-INF/templates/spaceTemplate.xhtml">
	<ui:define name="titleValue">Salle</ui:define>
	<ui:define name="spaceContent">

		<!-- cet élement sera remplacé par le contenu des pages, dynamiquement -->


		<div class="container-fluid p-5 justify-space-beetwen">
			<div class="row pt-5 contain-80">
				<h2 class="text-uppercase">NOTRE PHILOSOPHIE</h2>
				<div class="col-lg-6 col-sm-12 mt-auto mb-auto mb-5 space-welcome-text">

					#{spaceController.currentSpaceWithSubscriptions.infos.configuration.welcomeText}

				</div>
				<div class="col-lg-6 col-sm-12 ">
					<h:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.mainPicture}"
						styleClass="imgIllu" />
				</div>
			</div>
		</div>
		<div class="container-fluid p-5 justify-space-beetwen">
			<div class="row mb-5 contain-50">

				<h2 class="text-uppercase">NOS ABONNEMENTS</h2>

				<p:tab title="Abonnements">
					<h:panelGrid columns="1" cellpadding="5">
						<p:commandButton value="Ajouter un abonnement" type="button"
							styleClass="ui-button-raised ui-button custom-white-text" 
							style="background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; "
							onclick="PF('popupUpdate').show();" />
					</h:panelGrid>
					<p></p>
					<div class="card mb-5 shadow-4"
						style="border-radius: 50px; padding: 1em">
						<div class="text-900 font-bold text-5xl  text-center"
							style="margin-top: 5px">
							<H3>Nos abonnements exclusifs pour libérer votre potentiel !</H3>
						</div>
						<div class="d-flex mt-3 h-full"	style="gap: 50px; justify-content: center;">
							<ui:repeat	value="#{subscriptionController.allActiveSubscription}"	var="subscription">
								<div class="shadow-2 h-full flex flex-column surface-card"	style="border-radius: 1px margin-top:0px; border-color: black;">
									<div class="card-header" style="color: white; background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; ">
										<h2>
											<b>#{subscription.subscriptionName}</b>
										</h2>
										<h3>#{subscription.price.monthlyPrice}&#x20AC; par mois</h3>
									</div>

									<div class="card-body d-flex align-items-center">
										<p>#{subscription.description}</p>
									</div>
									<div class="card-footer">
										<h:form>
											<h:commandButton
												action="#{subscriptionController.subscribe(subscription.subscriptionId)}"
												class="btn" role="button" data-bs-toggle="button" style="color: white; background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; " value="S'ABONNER" />
										</h:form>
									</div>
								</div>
							</ui:repeat>
						</div>

					</div>
					<div>
						<h2 class="text-uppercase text-center">NOTRE SALLE</h2>
					</div>
					<p></p>

					<div id="carouselExampleAutoplaying" class="carousel slide"
						data-bs-ride="carousel">
						<div class="carousel-inner">
							<div class="carousel-item active">
								<h:graphicImage library="images" name="Img1.jpg"
									class="d-block custom-carousel-image" />
							</div>
							<div class="carousel-item">
								<h:graphicImage library="images" name="Img2.jpg"
									class="d-block custom-carousel-image" />
							</div>
							<div class="carousel-item">
								<h:graphicImage library="images" name="Img3.jpg"
									class="d-block custom-carousel-image" />
							</div>
						</div>
						<button class="carousel-control-prev" type="button"
							data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button"
							data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>
				</p:tab>
			</div>

			<p:dialog header="Ajouter un abonnement" widgetVar="popupUpdate"
				modal="true" height="600" resizable="false" showEffect="fade"
				hideEffect="fade" style="max-width: 1000px; min-width: 700px;">
				<h:form>
					<div>
						<div class="d-grid gap-2">

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput01"
									placeholder="Nom de l'abonnement" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.subscriptionName}" />
								<h:outputLabel class="outputLabel" for="floatingInput01">Nom de l'abonnement</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput02"
									placeholder="Description" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.description}" />
								<h:outputLabel class="outputLabel" for="floatingInput02">Description</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput03"
									placeholder="Engagement" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.engagement}" />
								<h:outputLabel class="outputLabel" for="floatingInput03">Durée d'engagement</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput04"
									placeholder="Prix Mensuel" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.price.monthlyPrice}" />
								<h:outputLabel class="outputLabel" for="floatingInput04">Prix Mensuel</h:outputLabel>
							</div>

							<h:commandButton class="btn btn-warning"
								value="Créer un abonnement"
								action="#{subscriptionController.createSubscription()}" />

							<h:link class="text-center" outcome="index.xhtml">Annuler</h:link>
						</div>
					</div>
				</h:form>
			</p:dialog>

			<p:accordionPanel widgetVar="Infos">
				<p:tab title="Informations générales de votre salle">
					<p class="m-0" />
			<p>Nom de la salle:#{spaceController.currentSpaceWithSubscriptions.infos.configuration.fitnessName}</p>
					<p>Siret:#{spaceController.currentSpaceWithSubscriptions.infos.administrative.siret}</p>
					<p>Adresse:#{spaceController.currentSpaceWithSubscriptions.infos.administrative.address}</p>
					<p>Notre slogan:#{spaceController.currentSpaceWithSubscriptions.infos.configuration.slogan}</p>
				</p:tab>
				</p:accordionPanel>
		</div>

		<!-- 	    <h:form style="margin: 0 auto;"> -->
		<!-- 	        <h:panelGrid columns="1" cellpadding="7" styleClass="mb-3"> -->
		<!-- 	            <p:outputLabel for="color" value="Sélectionner une couleur pour le menu"/> -->
		<!-- 	            <p:selectOneMenu id="color" value="#{conf.confViewModel.configuration.style.navbarColor}" style="width:12rem"> -->
		<!-- 	                <p:ajax listener="#{conf.colorForConfiguration}" update="color"/> -->
		<!-- 	                <f:selectItem itemLabel="Couleur disponible" itemValue="" noSelectionOption="true"/> -->
		<!-- 	            	<f:selectItems value="#{conf.colorForConfiguration}"/> -->
		<!-- 	            </p:selectOneMenu> -->
		<!-- 	        </h:panelGrid> -->
		<!-- 	        <p:commandButton value="Valider" action="#{conf.updateSpace()}" icon="pi pi-check"/> -->
		<!-- 	    </h:form> -->

		<main class="w-100">
			<div
				class=" row p-4 justify-content-around align-items-stretch navBar"
				style="height: 5vh; position: fixed; top: 0px"></div>


		</main>

		<script>

    </script>
	</ui:define>
</ui:composition>
</html>