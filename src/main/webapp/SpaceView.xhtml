<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" lang="fr">

<ui:composition template="WEB-INF/templates/spaceTemplate.xhtml">
	<ui:define name="titleValue">Salle</ui:define>
	<ui:define name="spaceContent">

		<!-- cet élement sera remplacé par le contenu des pages, dynamiquement -->
		
		<ui:fragment rendered="#{spaceController.managerOfTheSpaceConnected}">
			<h:panelGrid columns="1" cellpadding="5">
				<p:commandButton value="Modifier le style de la page" type="button" styleClass="ui-button-raised ui-button custom-white-text" 
					style="background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; "
					onclick="PF('popupUpdateStyle').show();" />
			</h:panelGrid>
		</ui:fragment>
		<div class="container-fluid p-5 justify-space-beetwen">
			<div class="row pt-5 mt-3 contain-80">
			
				<div class="col-lg-6 col-sm-12 mt-auto mb-auto mb-5 space-welcome-text" style="white-space:pre-line;">
<h2 class="text-uppercase">NOTRE PHILOSOPHIE</h2>
					<p>#{spaceController.currentSpaceWithSubscriptions.infos.configuration.welcomeText}</p>

				</div>
				<div class="col-lg-6 col-sm-12 ">
					<h:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.mainPicture}"
						styleClass="imgIllu" />
				</div>
			</div>
		</div>
		<div class="container-fluid p-5 justify-space-beetwen">
			<div class="row mb-5 contain-50">
				<h2 class="text-uppercase">NOS ABONNEMENTS</h2>

				<p:tab title="Abonnements">
				<ui:fragment rendered="#{spaceController.managerOfTheSpaceConnected}">
					<h:panelGrid columns="1" cellpadding="5">
						<p:commandButton value="Ajouter un abonnement" type="button" styleClass="ui-button-raised ui-button custom-white-text" 
							style="background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; "
							onclick="PF('popupUpdate').show();" />
					</h:panelGrid>
				</ui:fragment>
					<p></p>
					
					
					<div class="mb-5 shadow-4 mb-2 mt-4 card-AbonnementSpace"
						style="border-radius: 20px; padding: 1em; margin-top: 20px; margin-top: 20px; box-shadow: 10px 10px 19px -7px  rgb(131, 127, 127); background-color:white;">
						<p></p>
						<div class="text-900 font-bold text-5xl  text-center">
							<H3>Nos abonnements exclusifs pour libérer votre potentiel !</H3>
						</div>
						<div class="d-flex mt-4 mb-4 h-full"	style="gap: 50px; justify-content: center;">
							<ui:repeat	value="#{subscriptionController.allActiveSubscription}"	var="subscription">
								<div class="shadow-2 h-full flex flex-column surface-card"	style="margin-top:0px; border-radius: 10px; padding: 1em; box-shadow: 10px 10px 19px -7px  rgb(131, 127, 127); background-color:white;">
									
									<div class="card-header" style="padding-top: 20px; margin-top:15px; border-radius: 10px; color: white; background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; ">
										
										<h2>
											<b>#{subscription.subscriptionName}</b>
										</h2>
										<h3>#{subscription.price.monthlyPrice}&#x20AC; par mois</h3>
									</div>

									<div class="card-body d-flex align-items-center">
										<p>#{subscription.description}</p>
									</div>
									<div class="card-footer">
										<h:form>
											<h:commandButton
												action="#{subscriptionController.subscribe(subscription.subscriptionId)}"
												class="btn" role="button" data-bs-toggle="button" style="color: white; background-color: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.style.thirdcolor}; " value="S'ABONNER" />
										</h:form>
									</div>
								</div>
							</ui:repeat>
						</div>

					</div>
					<p></p>
					<p></p>
					<div>
						<h2 class="text-uppercase text-center">NOTRE SALLE</h2>
					</div>
					<p></p>

					<div id="carouselExampleAutoplaying" class="carousel slide"
						data-bs-ride="carousel">
						<div class="carousel-inner">
							<div class="carousel-item active">
								<h:graphicImage library="documents" name="#{spaceController.spaceViewModel.space.infos.configuration.carrouselOne}"
									class="d-block custom-carousel-image" />
							</div>
							<div class="carousel-item">
								<h:graphicImage library="documents" name="#{spaceController.spaceViewModel.space.infos.configuration.carrouselTwo}"
									class="d-block custom-carousel-image" />
							</div>
							<div class="carousel-item">
								<h:graphicImage library="documents" name="#{spaceController.spaceViewModel.space.infos.configuration.carrouselThree}"
									class="d-block custom-carousel-image" />
							</div>
						</div>
						<button class="carousel-control-prev" type="button"
							data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button"
							data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>
				</p:tab>
			</div>
			
			<p:accordionPanel widgetVar="Infos">
				<p:tab title="Informations générales de votre salle">
					<p class="m-0" />
					<p>Nom de la salle: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.fitnessName}</p>
					<p>Notre slogan: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.slogan}</p>
					<p>Adresse: #{spaceController.currentSpaceWithSubscriptions.infos.administrative.address}</p>
					<p>Siret: #{spaceController.currentSpaceWithSubscriptions.infos.administrative.siret}</p>
					<p>Contactez nous au : 06-02-02-02-02</p>	
					<p>Email: #{spaceController.currentSpaceWithSubscriptions.infos.configuration.fitnessName}@gmail.com</p>	
				</p:tab>
			</p:accordionPanel>
		</div>
		
			<p:dialog header="Ajouter un abonnement" widgetVar="popupUpdate"
				modal="true" height="600" resizable="false" showEffect="fade"
				hideEffect="fade" style="max-width: 1000px; min-width: 700px;">
				<h:form>
					<div>
						<div class="d-grid gap-2">

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput01"
									placeholder="Nom de l'abonnement" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.subscriptionName}" />
								<h:outputLabel class="outputLabel" for="floatingInput01">Nom de l'abonnement</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput02"
									placeholder="Description" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.description}" />
								<h:outputLabel class="outputLabel" for="floatingInput02">Description</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput03"
									placeholder="Engagement" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.engagement}" />
								<h:outputLabel class="outputLabel" for="floatingInput03">Durée d'engagement</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput04"
									placeholder="Prix Mensuel" required="true" size="20"
									value="#{subscriptionController.subscriptionViewModel.subscription.price.monthlyPrice}" />
								<h:outputLabel class="outputLabel" for="floatingInput04">Prix Mensuel</h:outputLabel>
							</div>

							<h:commandButton class="btn btn-warning"
								value="Créer un abonnement"
								action="#{subscriptionController.CreateSubscriptionInIndex()}" />

							<h:link class="text-center" outcome="index.xhtml">Annuler</h:link>
						</div>
					</div>
				</h:form>
			</p:dialog>

		<p:dialog header="Modifier le style" widgetVar="popupUpdateStyle" modal="true" height="600" resizable="false" showEffect="fade"
				hideEffect="fade" style="max-width: 1000px; min-width: 700px;">
			<h:form>
				<div>
					<div class="d-grid gap-2">
					<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput03"
								placeholder="#{spaceController.spaceViewModel.space.infos.configuration.style.mainColor}" size="20" required="true"
								value="#{spaceController.spaceViewModel.space.infos.configuration.style.mainColor}" />
							<h:outputLabel class="outputLabel" for="floatingInput03">COULEUR PRINCIPALE</h:outputLabel>
						</div>

						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput04"
								placeholder="#{spaceController.spaceViewModel.space.infos.configuration.style.secondColor}" size="20" required="true"
								value="#{spaceController.spaceViewModel.space.infos.configuration.style.secondColor}" />
							<h:outputLabel class="outputLabel" for="floatingInput04">COULEUR SECONDAIRE</h:outputLabel>
						</div>
						
						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput12"
								placeholder="#{spaceController.spaceViewModel.space.infos.configuration.style.thirdcolor}" size="20" required="true"
								value="#{spaceController.spaceViewModel.space.infos.configuration.style.thirdcolor}" />
							<h:outputLabel class="outputLabel" for="floatingInput12">COULEUR TERTIAIRE</h:outputLabel>
						</div>

						<div class="form-floating">
							<h:inputTextarea class="form-control" id="floatingInput05"
								placeholder="#{spaceController.spaceViewModel.space.infos.configuration.welcomeText}" size="20"
								value="#{spaceController.spaceViewModel.space.infos.configuration.welcomeText}" />
							<h:outputLabel class="outputLabel" for="floatingInput05">TEXT ACCUEIL</h:outputLabel>
						</div>

						<h:outputLabel class="outputLabel" for="floatingInput06">VOTRE LOGO</h:outputLabel>
						<p:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.logo}" width="50px" height="50px" class="img_index" />
						<p:fileUpload listener="#{spaceController.uploadSpaceLogo}"
							styleClass="w-100" id="floatingInput06" mode="advanced"
							dragDropSupport="false" />
							
						<h:outputLabel class="outputLabel" for="floatingInput07">VOTRE IMAGE ACCUEIL</h:outputLabel>
						<h:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.mainPicture}" width="50px" height="50px" class="img_index"/>
						<p:fileUpload listener="#{spaceController.uploadSpaceMainPicture}"
							styleClass="w-100" id="floatingInput07" mode="advanced"
							dragDropSupport="false" />
							
						<h:outputLabel class="outputLabel" for="floatingInput09">IMAGE DE VOTRE SALLE 1</h:outputLabel>
						<p:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.carrouselOne}" width="50px" height="50px" class="img_index" />
						<p:fileUpload listener="#{spaceController.uploadSpaceFirstPicture}"
							styleClass="w-100" id="floatingInput09" mode="advanced"
							dragDropSupport="false" />
							
						<h:outputLabel class="outputLabel" for="floatingInput10">IMAGE DE VOTRE SALLE 2</h:outputLabel>
						<p:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.carrouselTwo}" width="50px" height="50px" class="img_index" />
						<p:fileUpload listener="#{spaceController.uploadSpaceSecondPicture}"
							styleClass="w-100" id="floatingInput10" mode="advanced"
							dragDropSupport="false" />
							
						<h:outputLabel class="outputLabel" for="floatingInput11">IMAGE DE VOTRE SALLE 3</h:outputLabel>
						<p:graphicImage library="documents" name="#{spaceController.currentSpaceWithSubscriptions.infos.configuration.carrouselThree}" width="50px" height="50px" class="img_index" />
						<p:fileUpload listener="#{spaceController.uploadSpaceThirdPicture}"
							styleClass="w-100" id="floatingInput11" mode="advanced"
							dragDropSupport="false" />


						<h:commandButton class="btn btn-warning"
							value="Modifier mon espace fitness"
							action="#{spaceController.upDateSpaceOnIndex()}" />
					</div>
				</div>
			</h:form>
		</p:dialog>


	</ui:define>
</ui:composition>
</html>