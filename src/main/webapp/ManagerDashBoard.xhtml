<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" lang="fr">


<ui:composition template="WEB-INF/templates/mainTemplate.xhtml">

	<ui:define name="menus">

	</ui:define>
	
	<ui:define name="titleValue">Accueil - Fit Manager</ui:define>

	<ui:define name="content">
		<div class="d-flex">
		
		
		
			<div id="menus" class=" menus desable">
				<div
					class="d-flex flex-column flex-shrink-0 p-3 text-bg-dark sticky-top"
					style="width: 100%; height: 100vh">
					<div class=" m-auto h-75">
						<ul class="nav nav-pills flex-column mb-auto ">
							<li class="nav-item mb-2">
								<h:link class="dropdown-item" outcome="ManagerSpacesList.xhtml">Mes espaces</h:link>
							</li>
							
							
							<li class="nav-item mb-2">
								<a class="" value="creation de salle" type="button" onclick="PF('createSpace').show();" >creation de salle</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			
			
			

			<div class="col p-5">
				<h1> <span id="flashWelcom"> Bienvenue</span> #{sessionScope.name} </h1>
				<div class="d-flex w-100 justify-content-end pt-1">
					<div class="d-flex justify-content-around">
						<a class=" m-1">#{sessionScope.role}</a>
						<div class="dropdown">
							<a href="#"
								class="d-flex align-items-center text-white text-decoration-none dropdown-toggle "
								data-bs-toggle="dropdown" aria-expanded="false"> <img
								src="https://github.com/mdo.png" alt="" width="32" height="32"
								class="rounded-circle me-2"></img> <strong>mdo</strong>
							</a>
							<ul class="dropdown-menu dropdown-menu-dark text-small shadow">
								<li>
									<div class=" p-2 ">
											<h2>Informations</h2>
										<div id="1">
											<p>Nom: #{userController.userViewModel.user.profile.civility.name}</p>
											<p>Prenom: #{userController.userViewModel.user.profile.civility.forename}</p>					
											<p>Date de naissance: #{userController.userViewModel.user.profile.civility.birthday}</p>
											<p>Email: #{userController.userViewModel.user.profile.contact.email}</p>
											<p>Adresse: #{userController.userViewModel.user.profile.adress.street}</p>
											<p>Code postal: #{userController.userViewModel.user.profile.adress.zipCode}</p>
											<p>Ville: #{userController.userViewModel.user.profile.adress.city}</p>
										</div>
									</div>				
								</li>

								<li>
									<h:panelGrid columns="1" cellpadding="5">
									<p:commandButton value="Modifier mon profil" type="button" onclick="PF('UpdateAccount').show();" />
									</h:panelGrid>
								</li>
								
								
								
								<li><hr class="dropdown-divider" /></li>
								<li>
									<h:form>
										<h:commandLink class="dropdown-item" action="#{userController.logout()}">Se déconnecter</h:commandLink>
									</h:form>
								</li>
								
								
								
							</ul>
						</div>
					</div>
				</div>

				<!-- Contenu spécifique de la page -->
				<div class="row w-100 pt-5">
					<div
						class="col-sm-12 col-md-12 col-lg-12 col-xl-6 col-xxl-6 mb-4 h-75">
						<div class="container  text-center">
							<div class="row ">
								<div class="card p-3">
									<div
										class="d-flex justify-content-around align-items-center w-100">
										<h4>300 000€</h4>
										<div>
											<p class="fs-6">Chiffre d’affaire</p>
											<p class="fs-6">17/01/2023 - 17/01/2024</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="col-sm-12 col-md-12 col-lg-12 col-xl-6 col-xxl-6">

						<div class="row gx-5 h-100">
							<div
								class="col-sm-12 col-md-12 col-lg-12 col-xl-6 col-xxl-6 mb-4  ">
								<div class="card p-3 h-100">
									<div class="d-flex justify-content-around align-items-center w-100">
										<h4>BASIC</h4>
										<div>
											<p class="fs-6">Fin de contrats</p>
											<p class="fs-6">18 - janvier - 2025</p>
										</div>
									</div>
								</div>
							</div>
							<div
								class="col-sm-12 col-md-12 col-lg-12 col-xl-6 col-xxl-6 pb-4">
								<div class="card p-3 h-100 ">
									<div
										class="d-flex justify-content-around align-items-center w-100">
										<h4>BASIC</h4>
										<div>
											<p class="fs-6">Résiliation</p>
											<p class="fs-6">18- mai - 2024</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				
				


				<div class="row">
					<div class="container  text-center">
						<div class="row gy-5">
							<div class="col-sm-12 col-md-12 col-lg-12 col-xl-6 col-xxl-6">
								<div class="card p-3">

									<h3 class="text-start mb-3 fw-lighter">Scéance</h3>
									<h:form id="activityCreationForm">
					<div>
						<p:dataTable var="space"
							value="#{spaceController.allActiveSpacesOfManager}">
							<p:column headerText="Logo">
							<div class="logoContainer">
									<p:graphicImage library="images" name="logo/#{space.infos.configuration.logo}" width="50px" height="50px"	class="img_index" />
							</div>
							</p:column>
							<p:column headerText="Nom">
								<h:outputText value="#{space.infos.configuration.fitnessName}" />
							</p:column>
							<p:column headerText="Adresse">
								<h:outputText value="#{space.infos.administrative.address}" />
							</p:column>
							<p:column headerText="Liens vers l'espace">
								<h:commandButton class="plateform_Button" value="Lien vers espace"
									action="#{spaceController.goToSpaceIndex()}">
									<f:param name="spaceId" value="#{space.spaceId}" />
								</h:commandButton>
							</p:column>
						</p:dataTable>

					</div>
				 </h:form>
				
								</div>
							</div>
							<div class="col-sm-12 col-md-12 col-lg-12 col-xl-6 col-xxl-6">
								<div class="card p-3">

									<h3 class="text-start mb-3 fw-lighter">Coach</h3>
									<table class="table">

										<tbody>
											<tr class="p-1">
												<th scope="row"><a href="#"
													class="d-flex align-items-center text-white text-decoration-none"
													data-bs-toggle="dropdown" aria-expanded="false"> <img
														src="https://github.com/mdo.png" alt="" width="32"
														height="32" class="rounded-circle me-2" />
												</a></th>
												<td>Mark</td>
												<td>Otto</td>
												<td>Body-pump</td>
												<td>88/88/8888</td>
												<td>
													<div
														class=" p-2 bg-warning border border-light rounded-circle "
														style="height: 10px; width: 10px"></div>
												</td>
											</tr>
											<tr class="p-1">
												<th scope="row"><a href="#"
													class="d-flex align-items-center text-white text-decoration-none"
													data-bs-toggle="dropdown" aria-expanded="false"> <img
														src="https://github.com/mdo.png" alt="" width="32"
														height="32" class="rounded-circle me-2" />
												</a></th>
												<td>Mark</td>
												<td>Otto</td>
												<td>Body-pump</td>
												<td>88/88/8888</td>
												<td>
													<div
														class=" p-2 bg-warning border border-light rounded-circle "
														style="height: 10px; width: 10px"></div>
												</td>
											</tr>
											
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>


				</div>


			</div>

		</div>

		<p:dialog header="Modification de mon profil " widgetVar="UpdateAccount" modal="true"
			height="600" resizable="false" showEffect="fade" hideEffect="fade"
			style="max-width: 1000px; min-width: 700px;">
			<h:form>
				<div>
					<div class="d-grid gap-2">
						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput01"
								placeholder="#{userController.userViewModel.user.profile.civility.name}"
								size="20"
								value="#{userController.userViewModel.user.profile.civility.name}" />
							<h:outputLabel class="outputLabel" for="floatingInput01">Nom</h:outputLabel>
						</div>
						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput02"
								placeholder="Prénom" size="20"
								value="#{userController.userViewModel.user.profile.civility.forename}" />
							<h:outputLabel class="outputLabel" for="floatingInput02">Prénom</h:outputLabel>
						</div>
						<div class="field">
							<h:outputLabel for="sex" value="Genre" />
							<h:selectOneMenu id="sex"
								value="#{userController.userViewModel.user.profile.civility.sex}">
								<f:selectItem itemLabel="" />
								<f:selectItem itemLabel="Homme" itemValue="Man" />
								<f:selectItem itemLabel="Femme" itemValue="Woman" />
								<f:selectItem itemLabel="Autre" itemValue="Other" />
							</h:selectOneMenu>
						</div>
						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput04"
								placeholder="Date de naissance" size="20"
								value="#{userController.userViewModel.user.profile.civility.birthday}">
								<f:convertDateTime pattern="dd-mm-yyyy" />
							</h:inputText>
							<h:outputLabel class="outputLabel" for="floatingInput04">Date de naissance</h:outputLabel>
						</div>
						<div class="form-floating ">
							<h:inputText class="form-control" id="floatingInput06" size="20"
								placeholder="#{userController.userViewModel.user.account.password}"
								maxlength="12"
								value="#{userController.userViewModel.user.account.password}">
								<f:validateLength minimum="5"></f:validateLength>
							</h:inputText>
							<h:outputLabel class="outputLabel" for="floatingInput06">Mot de passe</h:outputLabel>
						</div>
						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput07"
								placeholder="Adresse" size="20"
								value="#{userController.userViewModel.user.profile.adress.street}" />
							<h:outputLabel class="outputLabel" for="floatingInput07">Adresse</h:outputLabel>
						</div>
						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput08"
								placeholder="Code postal" size="20"
								value="#{userController.userViewModel.user.profile.adress.zipCode}" />
							<h:outputLabel class="outputLabel" for="floatingInput08">Code postal</h:outputLabel>
						</div>
						<div class="form-floating">
							<h:inputText class="form-control" id="floatingInput09"
								placeholder="Ville" size="20"
								value="#{userController.userViewModel.user.profile.adress.city}" />
							<h:outputLabel class="outputLabel" for="floatingInput09">Ville</h:outputLabel>
						</div>
						<h:commandButton class="btn btn-warning"
							value="Enregistrer les modifications"
							action="#{userController.updateUser()}" />
						<h:link class="text-center" outcome="ManagerDashBoard"
							value="ANNULER" />
					</div>
				</div>
			</h:form>
		</p:dialog>


		<p:dialog header="creation de salle " widgetVar="createSpace" modal="true" height="470" resizable="false" showEffect="fade" hideEffect="fade"
			style="max-width: 1000px; min-width: 700px;">
			<h:form>
					<div class="row">
						<div class="d-grid gap-2">

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput01"
									placeholder="Nom de l'espace fitness" required="true" size="20"
									value="#{spaceController.spaceViewModel.space.infos.configuration.fitnessName}" />
								<h:outputLabel class="outputLabel" for="floatingInput01">Nom de l'espace fitness</h:outputLabel>
							</div>
							
							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput02"
									placeholder="SIRET" required="true" size="20"
									value="#{spaceController.spaceViewModel.space.infos.administrative.siret}"/>
								<h:outputLabel class="outputLabel" for="floatingInput02">SIRET</h:outputLabel>
							</div>

							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput03"
									placeholder="SIREN" required="true" size="20"
									value="#{spaceController.spaceViewModel.space.infos.administrative.address}"/>
								<h:outputLabel class="outputLabel" for="floatingInput03">SIREN</h:outputLabel>
							</div>
							
							<div class="form-floating">
								<h:inputText class="form-control" id="floatingInput04"
									placeholder="Logo" required="true" size="20"
									value="#{spaceController.spaceViewModel.space.infos.configuration.logo}"/>
								<h:outputLabel class="outputLabel" for="floatingInput04">Logo</h:outputLabel>
							</div>
							
							<p:fileUpload listener="#{spaceController.uploadedFile}"
									styleClass="w-100" mode="advanced" dragDropSupport="false" />
							
							<h:commandButton class="btn btn-warning"
								value="Créer un espace fitness"
								action="#{spaceController.createSpace()}" />

							<h:link class="text-center" outcome="SpacesList.xhtml">Annuler</h:link>
						</div>
					</div>
				</h:form>
		</p:dialog>
		
	</ui:define>

</ui:composition>
</html>